<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>製造現場AIアシスタント</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <!-- メニューバー -->
    <nav class="menu-bar">
        <div class="menu-container">
            <h1 class="app-title">製造現場AIアシスタント</h1>
            <div class="menu-buttons">
                <button class="menu-btn active" data-function="chatbot">チャットボット</button>
                <button class="menu-btn" data-function="daily_report">日報生成</button>
                <button class="menu-btn" data-function="anomaly_detection">異常検知</button>
                <button class="menu-btn" data-function="production_plan">生産計画</button>
            </div>
        </div>
    </nav>

    <!-- メインコンテンツ（3列レイアウト） -->
    <div class="main-container">
        <!-- 左側：ソースファイル -->
        <aside class="left-panel">
            <h2>ドキュメント一覧</h2>
            <div class="document-list" id="documentList">
                <p class="loading">読み込み中...</p>
            </div>
            <div class="upload-section">
                <h3>ファイルアップロード</h3>
                <input type="file" id="fileInput" multiple accept=".txt,.md,.pdf">
                <button id="uploadBtn">アップロード</button>
            </div>
        </aside>

        <!-- 中央：チャット -->
        <main class="chat-panel">
            <div class="chat-header">
                <h2 id="functionTitle">チャットボット</h2>
                <p id="functionDescription">社内文書を参照しながら質問にお答えします</p>
            </div>
            <div class="chat-messages" id="chatMessages">
                <div class="message bot-message">
                    <div class="message-content">
                        こんにちは！製造現場AIアシスタントです。どのようにお手伝いできますか？
                    </div>
                </div>
            </div>
            <div class="chat-input-container">
                <textarea 
                    id="chatInput" 
                    placeholder="メッセージを入力してください..."
                    rows="3"
                ></textarea>
                <button id="sendBtn">送信</button>
            </div>
        </main>

        <!-- 右側：根拠表示 -->
        <aside class="right-panel">
            <h2>根拠・参照元</h2>
            <div class="sources-container" id="sourcesContainer">
                <p class="no-sources">現在、参照元はありません</p>
            </div>
        </aside>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>

